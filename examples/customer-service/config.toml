task_description = """
Analyze customer service messages and output strict labels in the exact format:

CATEGORY=<enum>; DETAIL=<enum>; ORDER_ID=<digits or NONE>; CHANGE=<enum or NONE>

Rules:
- Use only the allowed enums listed below.
- ORDER_ID must be digits if present in the input, otherwise NONE.
- CHANGE is only used for ORDER_MODIFICATION; otherwise output NONE.
- Output exactly the four fields above, separated by semicolons.

Allowed CATEGORY values:
RETURN_REQUEST, TRACKING_INQUIRY, PRODUCT_INQUIRY, BILLING_ISSUE, COMPLAINT, ORDER_MODIFICATION,
POSITIVE_FEEDBACK, REFUND_REQUEST, POLICY_QUESTION, DISCOUNT_INQUIRY

Allowed DETAIL values:
ORDER_STATUS, SIZE, COLOR, MATERIAL, FEATURES, DUPLICATE_CHARGE, UNAUTHORIZED_CHARGE,
PRICE_DISCREPANCY, INCORRECT_AMOUNT, PRODUCT_DEFECT, POOR_QUALITY, MISLEADING_DESCRIPTION,
SERVICE_ISSUE, SHIPPING_DAMAGE, ORDER_CANCELLATION, ADD_ITEMS, REMOVE_ITEMS, ADDRESS_CHANGE,
REFUND_DAMAGED, REFUND_DEFECTIVE, REFUND_NOT_RECEIVED, REFUND_QUALITY, REFUND_GENERAL,
RETURN_POLICY, RETURN_WINDOW, WARRANTY_POLICY, SHIPPING_POLICY, PRICE_MATCHING,
PROMO_CODE_REQUEST, CURRENT_PROMOTIONS, COUPON_AVAILABILITY, STUDENT_DISCOUNT,
NEW_CUSTOMER_DISCOUNT, POSITIVE_GENERAL, PRODUCT_MISMATCH, RETURN_GENERAL

Allowed CHANGE values:
ADDRESS, COLOR, ITEMS_ADD, ITEMS_REMOVE, CANCEL, NONE
"""

[target_model]
provider = "anthropic"
model = "claude-sonnet-4-20250514"  # Using Sonnet for better accuracy on complex tasks
temperature = 0.0
max_tokens = 100

[optimizer]
model = "claude-opus-4-5-20251101"
max_iterations = 60
max_optimizer_tokens = 500000
max_test_iterations = 50
plateau_threshold = 4
max_workers = 50  # Number of parallel API calls for evaluation (increased for speed)

[data]
training_set = "./examples/customer-service/train.jsonl"
test_set = "./examples/customer-service/test.jsonl"

[feedback]
training_detail_level = "full"
test_detail_level = "descriptive"

[stopping_criteria]
training_pass_rate = 1.0
test_pass_rate = 1.0
on_incomplete_convergence = "return_best"
